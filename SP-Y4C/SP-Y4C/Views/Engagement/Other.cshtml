@model IQueryable<SurveyQuestion>
@{
    ViewData["Title"] = "Test";
}

<style>
    input[type=text] {
        width: 100%;
        padding: 12px 20px;
        margin: 8px 0;
        border: none;
        border-bottom: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }

    input[type=text]:focus {
        outline: none;
    }

    input[type=submit] {
        width: 100%;
        background-color: #4CAF50;
        color: white;
        padding: 14px 20px;
        margin: 8px 0;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    input[type=submit]:hover {
        background-color: #45a049;
    }

    div #form {
        background-color: #fff;
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        border-radius: 5px; /* 5px rounded corners */
        margin-bottom: 12px;
        padding: 24px;
        margin-top: 0;
        page-break-inside: avoid;
    }

    div .QuestionContainer {
        background-color: #fff;
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        transition: 0.3s;
        border-radius: 5px; /* 5px rounded corners */
        margin-bottom: 12px;
        padding: 24px;
        margin-top: 0;
        page-break-inside: avoid;
    }

    label .QuestionTitle {
        font-size: 24px;
        font-weight: 500;
        letter-spacing: .1px;
        line-height: 24px;
        color: #202124;
        font-weight: 400;
        width: 100%;
        word-break: break-word;
    }

    label .ChoiceText {
        font-size: 16px;
        font-weight: 500;
        letter-spacing: .1px;
        line-height: 24px;
        color: #202124;
        font-weight: 400;
        width: 100%;
        word-break: break-word;
        display: flex;
        flex-direction: row;
    }

    input[type=radio], input[type=checkbox] {
        height: 18px;
        width: 18px;
        margin-right: 6px;
    }

    div #formText {
        border-radius: 5px;
        background-color: #f2f2f2;
        padding: 20px;
    }

    h1 {
        text-align: center;
    }
</style>

<div id="form">
    <form asp-controller="Engagement" asp-action="Submit" method="post">
        <div class="QuestionContainer">
            Thank you for visiting Yoga 4 Change! Are you new or interested in our cause? Follow
            the below form to completion to find out where you can make the biggest difference.
            <br />
            <br />
            <br />
            First, we would like to get a better understanding of who you are so we make sure this survey's placement is effective!
        </div>


        @{
            foreach (var q in Model)
            {
                <div class="QuestionContainer">
                    <label style="width:100%;" for="question" name="@q.Id">
                        <label class="QuestionTitle">@q.Text</label><br />
                        <input type="hidden" name="weight" value="@q.Weight" />


                        @{
                            if (q.Choices.Count == 0)
                            {
                                if (q.TypeId == QuestionType.Text)
                                {
                                    <input name="@q.Id" type="@q.TypeId" required />
                                }
                            }
                            else
                            {
                                foreach (var c in q.Choices)
                                {
                                    if (q.Id == c.QuestionId)
                                    {
                                        <label for="@c.QuestionId" name="@c.Id">
                                            <label class="ChoiceText">
                                                <input name="@c.QuestionId" type="@q.TypeId" value="@c.Id" required />
                                                @c.Text
                                            </label>
                                        </label><br />
                                    }
                                }
                            }
                        }
                    </label><br />
                </div>
            }
        }

        @* Need to change the below interest *@
        <input type="hidden" name="page" value="other" />
        <button type="submit" value="Other" class="btn btn-primary" style="width:100%; padding: 14px 20px;
        margin: 8px 0;
        border: none;
        border-radius: 4px;
        cursor: pointer;">
            Submit
        </button>
    </form>
</div>
